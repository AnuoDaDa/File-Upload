<!DOCTYPE>
<html>
<head>
    <title> webuploader</title>
    <script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/webuploader/0.1.1/webuploader.css"></script>
    <script src="https://cdn.staticfile.org/webuploader/0.1.1/webuploader.js"></script>
    <script src="https://cdn.staticfile.org/webuploader/0.1.1/Uploader.swf"></script>
</head>

<body>

<div id="uploader-demo">
    <!--用来存放item-->
    <div id="fileList" class="uploader-list"></div>
    <div id="filePicker">选择图片</div>
</div>


<script type="text/javascript">

    // 初始化Web Uploader
    var uploader = WebUploader.create({

        // 选完文件后，是否自动上传。
        auto: true,

        // swf文件路径
        swf: 'https://cdn.staticfile.org/webuploader/0.1.1/Uploader.swf',

        // 文件接收服务端。
        server: 'upload',

        // 选择文件的按钮。可选。
        // 内部根据当前运行是创建，可能是input元素，也可能是flash.
        pick: '#filePicker',

        // 只允许选择图片文件。
        accept: {
            title: 'Images',
            extensions: 'gif,jpg,jpeg,bmp,png',
            mimeTypes: 'image/*'
        }
    });

    // 当有文件添加进来的时候
    uploader.on( 'fileQueued', function( file ) {
        alert("添加了图片！");
    });

    // 文件上传成功，给item添加成功class, 用样式标记上传成功。
    uploader.on( 'uploadSuccess', function( file ,response) {
        //获得服务器的图片
        var url = response.upload_file;
        var img = document.createElement('img');
        img.src=url;
        document.body.appendChild(img);

    });

    // 文件上传失败，显示上传出错。
    uploader.on( 'uploadError', function( file ) {

    });

    // 完成上传完了，成功或者失败，先删除进度条。
    uploader.on( 'uploadComplete', function( file ) {
        console.log("上传完成");
        console.log(file);
    });
</script>
</body>
</html>